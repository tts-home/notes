"use strict";(self.webpackChunktts_notes=self.webpackChunktts_notes||[]).push([[4666],{5146:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>s});var i=l(5893),o=l(1151);const c={},d="FFMPEG",t={id:"tool/other/ffmpeg",title:"FFMPEG",description:"\u547d\u4ee4\u522b\u540d",source:"@site/docs/tool/other/ffmpeg.md",sourceDirName:"tool/other",slug:"/tool/other/ffmpeg",permalink:"/notes/tool/other/ffmpeg",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Audio Equalizer",permalink:"/notes/tool/other/audio_equalizer"},next:{title:"GitHub",permalink:"/notes/tool/other/github"}},a={},s=[{value:"\u547d\u4ee4\u522b\u540d",id:"\u547d\u4ee4\u522b\u540d",level:2},{value:"FFMPEG",id:"ffmpeg-1",level:2},{value:"\u63d0\u53d6\u97f3\u9891",id:"\u63d0\u53d6\u97f3\u9891",level:3},{value:"\u97f3\u9891\u97f3\u91cf\u8c03\u6574",id:"\u97f3\u9891\u97f3\u91cf\u8c03\u6574",level:3},{value:"\u63d0\u53d6\u89c6\u9891",id:"\u63d0\u53d6\u89c6\u9891",level:3},{value:"\u5206\u5272\u97f3\u89c6\u9891",id:"\u5206\u5272\u97f3\u89c6\u9891",level:3},{value:"\u97f3\u9891 &amp; \u89c6\u9891\u5408\u5e76",id:"\u97f3\u9891--\u89c6\u9891\u5408\u5e76",level:3},{value:"\u97f3\u9891\u5143\u6570\u636e",id:"\u97f3\u9891\u5143\u6570\u636e",level:3},{value:"\u63d0\u53d6\u89c6\u9891\u5e27",id:"\u63d0\u53d6\u89c6\u9891\u5e27",level:3},{value:"\u97f3\u9891 &amp; \u89c6\u9891\u62fc\u63a5",id:"\u97f3\u9891--\u89c6\u9891\u62fc\u63a5",level:3},{value:"FFPROBE",id:"ffprobe",level:2},{value:"\u67e5\u770b\u6587\u4ef6\u4fe1\u606f",id:"\u67e5\u770b\u6587\u4ef6\u4fe1\u606f",level:3},{value:"FFPLAY",id:"ffplay",level:2},{value:"\u64ad\u653e\u6587\u4ef6",id:"\u64ad\u653e\u6587\u4ef6",level:3}];function r(e){const n={admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"ffmpeg",children:"FFMPEG"}),"\n",(0,i.jsx)(n.h2,{id:"\u547d\u4ee4\u522b\u540d",children:"\u547d\u4ee4\u522b\u540d"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'alias ffmpeg="ffmpeg -hide_banner -loglevel info"\nalias ffprobe="ffprobe -hide_banner -loglevel quiet"\nalias ffplay="ffplay -hide_banner -loglevel info"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"ffmpeg-1",children:"FFMPEG"}),"\n",(0,i.jsx)(n.h3,{id:"\u63d0\u53d6\u97f3\u9891",children:"\u63d0\u53d6\u97f3\u9891"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ffmpeg -i /path/of/input -vn -b:a 320k -ar 48k -q:a 0 -c:a copy /path/of/output\nffmpeg -i /path/of/input -vn -b:a 320k -ar 48k /path/of/output\nffmpeg -i /path/of/input -vn -b:a -q:a 0 /path/of/output\n"})}),"\n",(0,i.jsx)(n.admonition,{title:"\u53c2\u6570\u8bf4\u660e",type:"info",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"-vn"}),": no video",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.code,{children:"-c:a xxx"}),": ",(0,i.jsx)(n.code,{children:"codec of audio"}),"\uff0c\u97f3\u9891\u7f16\u7801/\u683c\u5f0f\uff0c",(0,i.jsx)(n.code,{children:"-c:a copy"})," \u662f\u6307\u4e0d\u6d89\u53ca\u97f3\u9891\u7684\u7f16\u89e3\u7801\uff0c\u901f\u5ea6\u4f1a\u5f88\u5feb",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.code,{children:"-q:a x"}),": \u8d28\u91cf\uff0c\u5206\u5e03\u8303\u56f4\u4e3a ",(0,i.jsx)(n.code,{children:"0~6"}),"\uff0c\u5176\u4e2d ",(0,i.jsx)(n.code,{children:"0"})," \u8868\u793a\u9ad8\u8d28\u91cf\u97f3\u9891\uff0c",(0,i.jsx)(n.code,{children:"6"}),"\u8868\u793a\u4f4e\u8d28\u91cf\u97f3\u9891",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.code,{children:"-b:a xxx"}),": \u97f3\u9891\u7684\u7801\u7387\uff0c",(0,i.jsx)(n.code,{children:"-b:a 320k"})," \u662f\u6307\u5b9a\u97f3\u9891\u7801\u7387\u4e3a ",(0,i.jsx)(n.code,{children:"320kb/s"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.code,{children:"-ar xxx"}),": \u97f3\u9891\u7684\u91c7\u6837\u9891\u7387\uff0c",(0,i.jsx)(n.code,{children:"-ar 48k"})," \u662f\u6307\u5b9a\u97f3\u9891\u7684\u91c7\u6837\u9891\u7387\u4e3a ",(0,i.jsx)(n.code,{children:"48kHz"}),(0,i.jsx)(n.br,{}),"\n","\u5efa\u8bae ",(0,i.jsx)(n.code,{children:"-q:a"})," \u4e0e ",(0,i.jsx)(n.code,{children:"-b:a"}),", ",(0,i.jsx)(n.code,{children:"-ar"})," \u4e0d\u540c\u65f6\u4f7f\u7528\u3002\u6307\u5b9a ",(0,i.jsx)(n.code,{children:"-c:a copy"})," \u4f1a\u5ffd\u7565 ",(0,i.jsx)(n.code,{children:"-q:a"}),", ",(0,i.jsx)(n.code,{children:"-b:a"}),", ",(0,i.jsx)(n.code,{children:"-ar"})]})}),"\n",(0,i.jsx)(n.h3,{id:"\u97f3\u9891\u97f3\u91cf\u8c03\u6574",children:"\u97f3\u9891\u97f3\u91cf\u8c03\u6574"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'# \u97f3\u91cf\u8c03\u6574\u4e3a\u5f53\u524d\u97f3\u91cf\u7684 0.5 \u500d\nffmpeg -i /path/of/input -filter:a "volume=0.5" -b:a 320k -ar 48k /path/of/output\n# \u97f3\u91cf\u8c03\u6574\u4e3a\u5f53\u524d\u97f3\u91cf\u7684 1.5 \u500d\nffmpeg -i /path/of/input -filter:a "volume=1.5" -b:a 320k -ar 48k /path/of/output\n# \u4f7f\u7528 decibel \u6765\u8c03\u8282\u97f3\u91cf\uff0c\u8c03\u9ad8 10dB\nffmpeg -i /path/of/input -filter:a "volume=10dB" -b:a 320k -ar 48k /path/of/output\n# \u4f7f\u7528 decibel \u6765\u8c03\u8282\u97f3\u91cf, \u8c03\u4f4e 5dB\nffmpeg -i /path/of/input -filter:a "volume=-5dB" -b:a 320k -ar 48k /path/of/output\n'})}),"\n",(0,i.jsx)(n.admonition,{title:"\u53c2\u6570\u8bf4\u660e",type:"info",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"-filter:a xxx"}),": \u97f3\u9891\u8fc7\u6ee4\u5668\uff0c",(0,i.jsx)(n.code,{children:'"volume=xxx"'})," \u662f\u6307\u5b9a\u97f3\u91cf\u8c03\u6574\n\u5176\u4ed6\u53c2\u6570\u89c1 ",(0,i.jsx)(n.code,{children:"\u63d0\u53d6\u97f3\u9891"})]})}),"\n",(0,i.jsx)(n.h3,{id:"\u63d0\u53d6\u89c6\u9891",children:"\u63d0\u53d6\u89c6\u9891"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ffmpeg -i /path/of/input -an -c:v copy /path/of/output\n"})}),"\n",(0,i.jsx)(n.admonition,{title:"\u53c2\u6570\u8bf4\u660e",type:"info",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"-an"}),": no audio\n",(0,i.jsx)(n.code,{children:"-c:v xxx"}),": ",(0,i.jsx)(n.code,{children:"codec of video"}),"\uff0c\u89c6\u9891\u7f16\u7801/\u683c\u5f0f\uff0c",(0,i.jsx)(n.code,{children:"-c:v copy"})," \u6307\u4e0d\u6d89\u53ca\u89c6\u9891\u7684\u7f16\u89e3\u7801\uff0c\u901f\u5ea6\u4f1a\u5f88\u5feb"]})}),"\n",(0,i.jsx)(n.h3,{id:"\u5206\u5272\u97f3\u89c6\u9891",children:"\u5206\u5272\u97f3\u89c6\u9891"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ffmpeg -ss 01:42:35 -t 00:02:39 -i /path/of/input -vn -c:a copy /path/of/output\nffmpeg -ss 01:42:35 -t 00:02:39 -i /path/of/input -an -c:v copy /path/of/output\n"})}),"\n",(0,i.jsx)(n.admonition,{title:"\u53c2\u6570\u8bf4\u660e",type:"info",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"-ss"}),": \u5f00\u59cb\u65f6\u95f4",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.code,{children:"-t"}),": \u622a\u53d6\u65f6\u957f",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.code,{children:"-vn"}),": no video",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.code,{children:"-an"}),": no audio",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.code,{children:"-c:a xxx"}),": ",(0,i.jsx)(n.code,{children:"codec of audio"}),"\uff0c\u97f3\u9891\u7f16\u7801/\u683c\u5f0f\uff0c",(0,i.jsx)(n.code,{children:"-c:a copy"})," \u6307\u4e0d\u6d89\u53ca\u97f3\u9891\u7684\u7f16\u89e3\u7801\uff0c\u901f\u5ea6\u4f1a\u5f88\u5feb",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.code,{children:"-c:v xxx"}),": ",(0,i.jsx)(n.code,{children:"codec of video"}),"\uff0c\u89c6\u9891\u7f16\u7801/\u683c\u5f0f\uff0c",(0,i.jsx)(n.code,{children:"-c:v copy"})," \u6307\u4e0d\u6d89\u53ca\u89c6\u9891\u7684\u7f16\u89e3\u7801\uff0c\u901f\u5ea6\u4f1a\u5f88\u5feb"]})}),"\n",(0,i.jsx)(n.h3,{id:"\u97f3\u9891--\u89c6\u9891\u5408\u5e76",children:"\u97f3\u9891 & \u89c6\u9891\u5408\u5e76"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ffmpeg -i /path/of/input/video -i /path/of/input/audio -c:v copy -c:a copy /path/of/output\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u97f3\u9891\u5143\u6570\u636e",children:"\u97f3\u9891\u5143\u6570\u636e"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'ffmpeg -vn -i /path/of/input -map 0:a -c:a aac -metadata artist="artist" -metadata title="title" -metadata album="album" /path/of/output\n'})}),"\n",(0,i.jsx)(n.admonition,{title:"\u53c2\u6570\u8bf4\u660e",type:"info",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"-map 0:a"}),": \u4ec5\u4fdd\u7559\u97f3\u9891(\u4e0d\u542b\u4e13\u8f91\u5c01\u9762\u7b49\u6570\u636e)",(0,i.jsx)(n.br,{}),"\n","\u4e0d\u5efa\u8bae\u6307\u5b9a\u97f3\u9891\u8d28\u91cf\u53c2\u6570\uff0c\u5bf9\u97f3\u8d28\u63d0\u5347\u6709\u9650"]})}),"\n",(0,i.jsx)(n.h3,{id:"\u63d0\u53d6\u89c6\u9891\u5e27",children:"\u63d0\u53d6\u89c6\u9891\u5e27"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ffmpeg -i 001.mov -r 60 -qscale:v 2 ./image/0_%05d.jpg\n"})}),"\n",(0,i.jsx)(n.admonition,{title:"\u53c2\u6570\u8bf4\u660e",type:"info",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"-r"}),": \u5e27\u7387",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.code,{children:"-qscale:v"}),": \u56fe\u7247\u8d28\u91cf"]})}),"\n",(0,i.jsx)(n.h3,{id:"\u97f3\u9891--\u89c6\u9891\u62fc\u63a5",children:"\u97f3\u9891 & \u89c6\u9891\u62fc\u63a5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ffmpeg -f concat -safe 0 -i /path/of/concat.txt -c:v copy -c:a copy /path/of/output\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"concat.txt"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"file /path/of/file0\nfile /path/of/file1\nfile /path/of/file2\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ffprobe",children:"FFPROBE"}),"\n",(0,i.jsx)(n.h3,{id:"\u67e5\u770b\u6587\u4ef6\u4fe1\u606f",children:"\u67e5\u770b\u6587\u4ef6\u4fe1\u606f"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ffprobe -i /path/of/input\nffprobe -i /path/of/input -show_streams -pretty -print_format flat -select_streams a:0\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ffplay",children:"FFPLAY"}),"\n",(0,i.jsx)(n.h3,{id:"\u64ad\u653e\u6587\u4ef6",children:"\u64ad\u653e\u6587\u4ef6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ffplay -i /path/of/input\n"})})]})}function h(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(r,{...e})}):r(e)}},1151:(e,n,l)=>{l.d(n,{Z:()=>t,a:()=>d});var i=l(7294);const o={},c=i.createContext(o);function d(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);