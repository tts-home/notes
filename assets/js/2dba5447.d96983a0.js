"use strict";(self.webpackChunktts_notes=self.webpackChunktts_notes||[]).push([[1899],{6989:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>c});var t=i(5893),r=i(1151);const o={},s="\u5355\u70b9\u767b\u5f55",a={id:"framework/sso",title:"\u5355\u70b9\u767b\u5f55",description:"JWT",source:"@site/interview/framework/sso.md",sourceDirName:"framework",slug:"/framework/sso",permalink:"/notes/interview/framework/sso",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"interview",previous:{title:"Netty",permalink:"/notes/interview/framework/netty"},next:{title:"Dubbo",permalink:"/notes/interview/microservice/dubbo"}},l={},c=[{value:"JWT",id:"jwt",level:2},{value:"Shiro",id:"shiro",level:2},{value:"CAS",id:"cas",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"\u5355\u70b9\u767b\u5f55",children:"\u5355\u70b9\u767b\u5f55"}),"\n",(0,t.jsx)(n.h2,{id:"jwt",children:"JWT"}),"\n",(0,t.jsx)(n.h2,{id:"shiro",children:"Shiro"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\u63d0\u4f9b\u4e00\u4e2a ",(0,t.jsx)(n.code,{children:"Realm"})," \u5b9e\u73b0","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u8ba4\u8bc1\uff0c\u6821\u9a8c\u7528\u6237\uff0c",(0,t.jsx)(n.code,{children:"doGetAuthenticationInfo"}),"\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:["\u6388\u6743\uff0c\u83b7\u53d6\u7528\u6237\u6743\u9650\uff0c",(0,t.jsx)(n.code,{children:"doGetAuthorizationInfo"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"@Bean\npublic Realm realm() {\n}\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:["\u58f0\u660e ",(0,t.jsx)(n.code,{children:"ShiroFilterChainDefinition"})]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@Bean\npublic ShiroFilterChainDefinition shiroFilterChainDefinition() {\n    DefaultShiroFilterChainDefinition chainDefinition = new DefaultShiroFilterChainDefinition();\n    // logged in users with the \'admin\' role\n    chainDefinition.addPathDefinition("/admin/**", "authc, roles[admin]");\n    // logged in users with the \'document:read\' permission\n    chainDefinition.addPathDefinition("/docs/**", "authc, perms[document:read]");\n    // all other paths require a logged in user\n    chainDefinition.addPathDefinition("/**", "authc");\n    return chainDefinition;\n}\n'})}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsxs)(n.li,{children:["\u81ea\u5b9a\u4e49 ",(0,t.jsx)(n.code,{children:"AuthenticatingFilter"})," \u5b9e\u73b0"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"@Override\nprotected boolean onLoginSuccess(AuthenticationToken token, Subject subject, ServletRequest request, \n                                    ServletResponse response) throws Exception {\n    return true;\n}\n@Override\nprotected boolean onLoginFailure(AuthenticationToken token, AuthenticationException e,\n                                     ServletRequest request, ServletResponse response) {\n    return false;\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"cas",children:"CAS"})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>a,a:()=>s});var t=i(7294);const r={},o=t.createContext(r);function s(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);