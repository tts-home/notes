"use strict";(self.webpackChunktts_notes=self.webpackChunktts_notes||[]).push([[6762],{2942:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>i,contentTitle:()=>r,default:()=>_,frontMatter:()=>c,metadata:()=>a,toc:()=>d});var s=t(5893),o=t(1151);const c={},r="Elastic Search Rest",a={id:"tool/vscode/elastic_search_rest",title:"Elastic Search Rest",description:"",source:"@site/docs/tool/vscode/elastic_search_rest.md",sourceDirName:"tool/vscode",slug:"/tool/vscode/elastic_search_rest",permalink:"/notes/tool/vscode/elastic_search_rest",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"\u6e90\u7801\u7f16\u7ece\u5b89\u88c5",permalink:"/notes/tool/svn/build_from_source"},next:{title:"keybinds.json",permalink:"/notes/tool/vscode/keybindings.json"}},i={},d=[];function l(n){const e={code:"code",h1:"h1",pre:"pre",...(0,o.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"elastic-search-rest",children:"Elastic Search Rest"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-http",children:'@ct_json = application/json\n@host = http://127.0.0.1:9200\n@index_name = foo\n@index_type = bar\n\n### \u5220\u9664\u6570\u636e\nPOST {{host}}/{{index_name}}/{{index_type}}/_delete_by_query HTTP/1.1\nContent-Type: {{ct_json}}\n\n{\n    "query": { \n        "match_all": {}\n    }\n}\n\n### \u67e5\u770b\u6570\u636e(ALL)\nPOST {{host}}/{{index_name}}/{{index_type}}/_search HTTP/1.1\nContent-Type: {{ct_json}}\n\n{\n    "query": { \n        "match_all": {}\n    },\n    "size": 100\n}\n\n### \u67e5\u770b\u6570\u636e(\u8303\u56f4)\nPOST {{host}}/{{index_name}}/{{index_type}}/_search HTTP/1.1\nContent-Type: {{ct_json}}\n\n{\n    "query": { \n        "range": {\n            "id": {\n                "gte": 130,\n                "lte": 147\n            }\n        }\n    },\n    "size": 100\n}\n\n### \u67e5\u770b\u6570\u636e(IN)\nPOST {{host}}/{{index_name}}/{{index_type}}/_search HTTP/1.1\nContent-Type: {{ct_json}}\n\n{\n    "query": { \n        "terms": {\n            "containerId": ["CZYT0000016", "CZTY0000015"]\n        }\n    },\n    "size": 100\n}\n\n### \u67e5\u770b\u6570\u636e(\u591a\u6761\u4ef6 + OR)\nPOST {{host}}/{{index_name}}/{{index_type}}/_search HTTP/1.1\nContent-Type: {{ct_json}}\n\n{\n    "query": { \n        "bool" : {\n            "filter" : [\n                {\n                    "bool" : {\n                        "should" : [\n                            {\n                                "wildcard" : {\n                                    "userName" : {\n                                        "wildcard" : "*FOO*"\n                                    }\n                                }\n                            },\n                            {\n                                "wildcard" : {\n                                    "containerId" : {\n                                        "wildcard" : "*BAR*"\n                                    }\n                                }\n                            }\n                        ]\n                    }\n                },\n                {\n                    "match" : {\n                        "nickName" : {\n                            "query" : "\u5468\u661f\u9a70"\n                        }\n                    }\n                }\n            ]\n        }\n    },\n    "size": 100\n}\n\n### \u805a\u5408\u67e5\u8be2(Aggregation)\nPOST {{dev}}/{{ezt_index_name}}/{{ezt_index_type}}/_search?size=0 HTTP/1.1\nContent-Type: {{ct_json}}\n\n{\n    "aggs" : {\n        "status_count": {\n            "terms": {\n                "field": "status"\n            }\n        }\n    }\n}\n\n### \u66f4\u65b0\u6570\u636e\nPOST {{dev}}/{{ezt_index_name}}/{{ezt_index_type}}/_update_by_query HTTP/1.1\nContent-Type: {{ct_json}}\n\n{\n    "query": { \n        "match": {\n            "id": 101\n        }\n    },\n    "script": {\n        "source": "ctx._source[\'status\'] = 20",\n        "lang": "painless"\n    }\n}\n'})})]})}function _(n={}){const{wrapper:e}={...(0,o.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(l,{...n})}):l(n)}},1151:(n,e,t)=>{t.d(e,{Z:()=>a,a:()=>r});var s=t(7294);const o={},c=s.createContext(o);function r(n){const e=s.useContext(c);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:r(n.components),s.createElement(c.Provider,{value:e},n.children)}}}]);